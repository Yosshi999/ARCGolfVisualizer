再帰上限がなければ再帰にするとよいが...