p=lambda g,n=8:n and[[(c+c*d,c%(8,4)[7<n]or(d>2)*3)[4<n]for c,d in zip(v,[0]+v)]for*v,in zip(*p(g,n-1)[::-1])]or g