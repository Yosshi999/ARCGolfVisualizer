p=lambda g,n=96,i=0:n and p([[c<<(i+2==(i:=i|c),d&20>c&20)[n<96]for c,d in zip(v,[0]+v)]for*v,in zip(*g)][::-1],n-1)or[[8-8*(2in sum(g,[]))]]