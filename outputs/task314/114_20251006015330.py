r=range(8)
p=lambda g:[[max(w[i],min(w[i-3*(5>i>2)::6]),min(g[i][j-3*(5>j>2)::6]))for*w,j in zip(*g,r)]for i in r]