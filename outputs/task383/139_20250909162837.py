def p(g):B,_,C,*_=filter(int,[*filter(max,g)][2]);return[[(a,(B,C)[a<1])[(0<v.count(B)<4)|(0<w.count(B)<4)]for*w,a in zip(*g,v)]for v in g]